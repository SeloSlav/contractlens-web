(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},17661,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(18566);function n(){let[e,n]=(0,r.useState)("text"),[a,c]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[u,x]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[b,f]=(0,r.useState)(""),h=(0,i.useRouter)();async function g(t){t.preventDefault(),f(""),p(!0);try{let t={title:d||"Untitled"};if("url"===e){if(!a.trim()){f("URL is required"),p(!1);return}t={...t,sourceType:"url",url:a.trim()}}else if("text"===e){if(!l.trim()){f("Text content is required"),p(!1);return}t={...t,sourceType:"text",content:l.trim()}}else{if(!u){f("Please select a PDF file"),p(!1);return}let e=await u.arrayBuffer(),r=new Uint8Array(e),i="";for(let e=0;e<r.length;e++)i+=String.fromCharCode(r[e]);let n=btoa(i);t={...t,sourceType:"pdf",content:n}}let r=await fetch("/api/docs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await r.json();if(!r.ok)throw Error(i.error??"Failed to create document");h.push(`/docs/${i.docId}`)}catch(e){f(e instanceof Error?e.message:"Something went wrong")}finally{p(!1)}}return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center p-8",children:(0,t.jsxs)("main",{className:"w-full max-w-2xl",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:"ContractLens"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400 mb-8",children:"AI Contract Risk Scanner - Upload a contract to get started"}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Title (optional)"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),placeholder:"My Contract",className:"w-full px-4 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex gap-2 mb-4",children:["text","url","pdf"].map(r=>(0,t.jsx)("button",{type:"button",onClick:()=>n(r),className:`px-4 py-2 rounded-lg text-sm font-medium ${e===r?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900":"bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-300 dark:hover:bg-zinc-600"}`,children:"text"===r?"Paste Text":"url"===r?"URL":"PDF"},r))}),"text"===e&&(0,t.jsx)("textarea",{value:l,onChange:e=>s(e.target.value),placeholder:"Paste your contract text here...",rows:12,className:"w-full px-4 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 font-mono text-sm"}),"url"===e&&(0,t.jsx)("input",{type:"url",value:a,onChange:e=>c(e.target.value),placeholder:"https://example.com/terms-of-service",className:"w-full px-4 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100"}),"pdf"===e&&(0,t.jsx)("input",{type:"file",accept:".pdf,application/pdf",onChange:e=>x(e.target.files?.[0]??null),className:"w-full px-4 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-zinc-200 dark:file:bg-zinc-700 file:text-zinc-900 dark:file:text-zinc-100"})]}),b&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:b}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg font-medium hover:opacity-90 disabled:opacity-50",children:m?"Creating...":"Create Document"})]}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)("a",{href:"/api/docs",className:"text-sm text-zinc-600 dark:text-zinc-400 hover:underline",children:"List documents (API)"})})]})})}e.s(["default",()=>n])}]);