{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/lib/mongodb.ts"],"sourcesContent":["import { MongoClient, Db } from \"mongodb\";\n\nconst uri = process.env.MONGODB_URI ?? \"mongodb://localhost:27017/contractlens\";\n\nlet client: MongoClient | null = null;\nlet clientPromise: Promise<MongoClient> | null = null;\n\nfunction getClient(): Promise<MongoClient> {\n  if (clientPromise) return clientPromise;\n  clientPromise = new MongoClient(uri).connect();\n  return clientPromise;\n}\n\nexport async function getDb(): Promise<Db> {\n  const c = await getClient();\n  return c.db();\n}\n\nexport async function ensureIndexes(): Promise<void> {\n  const db = await getDb();\n  await db.collection(\"documents\").createIndex({ createdAt: -1 });\n  await db.collection(\"chunks\").createIndex({ docId: 1 });\n  await db.collection(\"runs\").createIndex({ docId: 1 });\n  await db.collection(\"feedback\").createIndex({ runId: 1 });\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW,IAAI;AAEvC,IAAI,SAA6B;AACjC,IAAI,gBAA6C;AAEjD,SAAS;IACP,IAAI,eAAe,OAAO;IAC1B,gBAAgB,IAAI,oKAAW,CAAC,KAAK,OAAO;IAC5C,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,IAAI,MAAM;IAChB,OAAO,EAAE,EAAE;AACb;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM;IACjB,MAAM,GAAG,UAAU,CAAC,aAAa,WAAW,CAAC;QAAE,WAAW,CAAC;IAAE;IAC7D,MAAM,GAAG,UAAU,CAAC,UAAU,WAAW,CAAC;QAAE,OAAO;IAAE;IACrD,MAAM,GAAG,UAAU,CAAC,QAAQ,WAAW,CAAC;QAAE,OAAO;IAAE;IACnD,MAAM,GAAG,UAAU,CAAC,YAAY,WAAW,CAAC;QAAE,OAAO;IAAE;AACzD"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/DocActions.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocActions = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocActions() from the server but DocActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/DocActions.tsx <module evaluation>\",\n    \"DocActions\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,0EACA","ignoreList":[0]}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/DocActions.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocActions = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocActions() from the server but DocActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/DocActions.tsx\",\n    \"DocActions\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,sDACA","ignoreList":[0]}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/FindingsTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FindingsTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call FindingsTable() from the server but FindingsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/FindingsTable.tsx <module evaluation>\",\n    \"FindingsTable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,6EACA","ignoreList":[0]}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/FindingsTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FindingsTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call FindingsTable() from the server but FindingsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/FindingsTable.tsx\",\n    \"FindingsTable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,yDACA","ignoreList":[0]}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/RunHistory.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RunHistory = registerClientReference(\n    function() { throw new Error(\"Attempted to call RunHistory() from the server but RunHistory is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/RunHistory.tsx <module evaluation>\",\n    \"RunHistory\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,0EACA","ignoreList":[0]}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/RunHistory.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RunHistory = registerClientReference(\n    function() { throw new Error(\"Attempted to call RunHistory() from the server but RunHistory is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/docs/[docId]/RunHistory.tsx\",\n    \"RunHistory\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,sDACA","ignoreList":[0]}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///C:/WebProjects/contractlens-web/apps/web/app/docs/%5BdocId%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { ObjectId } from \"mongodb\";\nimport { getDb } from \"@/lib/mongodb\";\nimport { DocActions } from \"./DocActions\";\nimport { FindingsTable } from \"./FindingsTable\";\nimport { RunHistory } from \"./RunHistory\";\n\nasync function getDoc(docId: string) {\n  if (!ObjectId.isValid(docId)) return null;\n  const db = await getDb();\n  const d = await db.collection(\"documents\").findOne({\n    _id: new ObjectId(docId),\n  });\n  if (!d) return null;\n  return {\n    _id: d._id.toString(),\n    title: d.title,\n    sourceType: d.sourceType,\n    sourceUrl: d.sourceUrl,\n    status: d.status,\n  };\n}\n\nexport default async function DocPage({\n  params,\n}: {\n  params: Promise<{ docId: string }>;\n}) {\n  const { docId } = await params;\n  const doc = await getDoc(docId);\n  if (!doc) notFound();\n\n  return (\n    <div className=\"min-h-screen bg-zinc-50 dark:bg-black p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <Link\n          href=\"/\"\n          className=\"text-zinc-600 dark:text-zinc-400 hover:underline mb-6 inline-block\"\n        >\n          ‚Üê Back\n        </Link>\n        <h1 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100 mb-2\">\n          {doc.title}\n        </h1>\n        <div className=\"flex gap-4 text-sm text-zinc-600 dark:text-zinc-400 mb-6\">\n          <span>Source: {doc.sourceType}</span>\n          <span\n            className={`px-2 py-0.5 rounded ${\n              doc.status === \"ready\"\n                ? \"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400\"\n                : doc.status === \"failed\"\n                  ? \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400\"\n                  : \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400\"\n            }`}\n          >\n            {doc.status}\n          </span>\n        </div>\n        {doc.sourceUrl && (\n          <p className=\"text-sm text-zinc-600 dark:text-zinc-400 mb-4\">\n            URL: {doc.sourceUrl}\n          </p>\n        )}\n        <DocActions docId={docId} status={doc.status} />\n        <RunHistory docId={docId} />\n        <FindingsTable docId={docId} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,eAAe,OAAO,KAAa;IACjC,IAAI,CAAC,iKAAQ,CAAC,OAAO,CAAC,QAAQ,OAAO;IACrC,MAAM,KAAK,MAAM,IAAA,sIAAK;IACtB,MAAM,IAAI,MAAM,GAAG,UAAU,CAAC,aAAa,OAAO,CAAC;QACjD,KAAK,IAAI,iKAAQ,CAAC;IACpB;IACA,IAAI,CAAC,GAAG,OAAO;IACf,OAAO;QACL,KAAK,EAAE,GAAG,CAAC,QAAQ;QACnB,OAAO,EAAE,KAAK;QACd,YAAY,EAAE,UAAU;QACxB,WAAW,EAAE,SAAS;QACtB,QAAQ,EAAE,MAAM;IAClB;AACF;AAEe,eAAe,QAAQ,EACpC,MAAM,EAGP;IACC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM;IACxB,MAAM,MAAM,MAAM,OAAO;IACzB,IAAI,CAAC,KAAK,IAAA,iMAAQ;IAElB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,0LAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;8BAGD,8OAAC;oBAAG,WAAU;8BACX,IAAI,KAAK;;;;;;8BAEZ,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;gCAAK;gCAAS,IAAI,UAAU;;;;;;;sCAC7B,8OAAC;4BACC,WAAW,CAAC,oBAAoB,EAC9B,IAAI,MAAM,KAAK,UACX,yEACA,IAAI,MAAM,KAAK,WACb,iEACA,4EACN;sCAED,IAAI,MAAM;;;;;;;;;;;;gBAGd,IAAI,SAAS,kBACZ,8OAAC;oBAAE,WAAU;;wBAAgD;wBACrD,IAAI,SAAS;;;;;;;8BAGvB,8OAAC,oKAAU;oBAAC,OAAO;oBAAO,QAAQ,IAAI,MAAM;;;;;;8BAC5C,8OAAC,oKAAU;oBAAC,OAAO;;;;;;8BACnB,8OAAC,0KAAa;oBAAC,OAAO;;;;;;;;;;;;;;;;;AAI9B"}}]
}