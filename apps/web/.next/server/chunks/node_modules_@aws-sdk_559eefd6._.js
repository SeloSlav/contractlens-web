module.exports=[38936,e=>{"use strict";e.s(["commonParams",0,{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},"resolveClientEndpointParameters",0,e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"})])},2153,87885,17663,e=>{"use strict";var t=e.i(6973),i=e.i(19483);class r extends i.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}e.s(["STSServiceException",()=>r],87885);class s extends r{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,s.prototype)}}class n extends r{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,n.prototype)}}class o extends r{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,o.prototype)}}class a extends r{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,a.prototype)}}class l extends r{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,l.prototype)}}class d extends r{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,d.prototype)}}class u extends r{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,u.prototype)}}e.s(["ExpiredTokenException",()=>s,"IDPCommunicationErrorException",()=>u,"IDPRejectedClaimException",()=>l,"InvalidIdentityTokenException",()=>d,"MalformedPolicyDocumentException",()=>n,"PackedPolicyTooLargeException",()=>o,"RegionDisabledException",()=>a],17663);let c="AssumedRoleUser",h="Credentials",p="DurationSeconds",g="Policy",f="PolicyArns",m="PackedPolicySize",E="RoleArn",x="RoleSessionName",y="SourceIdentity",S="awsQueryError",b="client",v="error",P="httpError",T="message",I="smithy.ts.sdk.synthetic.com.amazonaws.sts",N="com.amazonaws.sts",w=t.TypeRegistry.for(I);var A=[-3,I,"STSServiceException",0,[],[]];w.registerError(A,r);let C=t.TypeRegistry.for(N);var O=[-3,N,"ExpiredTokenException",{[S]:["ExpiredTokenException",400],[v]:b,[P]:400},[T],[0]];C.registerError(O,s);var D=[-3,N,"IDPCommunicationErrorException",{[S]:["IDPCommunicationError",400],[v]:b,[P]:400},[T],[0]];C.registerError(D,u);var R=[-3,N,"IDPRejectedClaimException",{[S]:["IDPRejectedClaim",403],[v]:b,[P]:403},[T],[0]];C.registerError(R,l);var k=[-3,N,"InvalidIdentityTokenException",{[S]:["InvalidIdentityToken",400],[v]:b,[P]:400},[T],[0]];C.registerError(k,d);var $=[-3,N,"MalformedPolicyDocumentException",{[S]:["MalformedPolicyDocument",400],[v]:b,[P]:400},[T],[0]];C.registerError($,n);var M=[-3,N,"PackedPolicyTooLargeException",{[S]:["PackedPolicyTooLarge",400],[v]:b,[P]:400},[T],[0]];C.registerError(M,o);var F=[-3,N,"RegionDisabledException",{[S]:["RegionDisabledException",403],[v]:b,[P]:403},[T],[0]];C.registerError(F,a);let _=[w,C];var U=[0,N,"accessKeySecretType",8,0],V=[0,N,"clientTokenType",8,0],j=[3,N,c,0,["AssumedRoleId","Arn"],[0,0],2],L=[3,N,"AssumeRoleRequest",0,[E,x,f,g,p,"Tags","TransitiveTagKeys","ExternalId","SerialNumber","TokenCode",y,"ProvidedContexts"],[0,0,()=>Y,0,1,()=>X,64,0,0,0,0,()=>q],2],z=[3,N,"AssumeRoleResponse",0,[h,c,m,y],[[()=>B,0],()=>j,1,0]],W=[3,N,"AssumeRoleWithWebIdentityRequest",0,[E,x,"WebIdentityToken","ProviderId",f,g,p],[0,0,[()=>V,0],0,()=>Y,0,1],3],H=[3,N,"AssumeRoleWithWebIdentityResponse",0,[h,"SubjectFromWebIdentityToken",c,m,"Provider","Audience",y],[[()=>B,0],0,()=>j,1,0,0,0]],B=[3,N,h,0,["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],[0,[()=>U,0],0,4],4],K=[3,N,"PolicyDescriptorType",0,["arn"],[0]],Q=[3,N,"ProvidedContext",0,["ProviderArn","ContextAssertion"],[0,0]],G=[3,N,"Tag",0,["Key","Value"],[0,0],2],Y=[1,N,"policyDescriptorListType",0,()=>K],q=[1,N,"ProvidedContextsListType",0,()=>Q],X=[1,N,"tagListType",0,()=>G],Z=[9,N,"AssumeRole",0,()=>L,()=>z],J=[9,N,"AssumeRoleWithWebIdentity",0,()=>W,()=>H];e.s(["AssumeRole$",()=>Z,"AssumeRoleRequest$",()=>L,"AssumeRoleResponse$",()=>z,"AssumeRoleWithWebIdentity$",()=>J,"AssumeRoleWithWebIdentityRequest$",()=>W,"AssumeRoleWithWebIdentityResponse$",()=>H,"AssumedRoleUser$",()=>j,"Credentials$",()=>B,"ExpiredTokenException$",()=>O,"IDPCommunicationErrorException$",()=>D,"IDPRejectedClaimException$",()=>R,"InvalidIdentityTokenException$",()=>k,"MalformedPolicyDocumentException$",()=>$,"PackedPolicyTooLargeException$",()=>M,"PolicyDescriptorType$",()=>K,"ProvidedContext$",()=>Q,"RegionDisabledException$",()=>F,"STSServiceException$",()=>A,"Tag$",()=>G,"errorTypeRegistries",0,_],2153)},76359,e=>{"use strict";var t=e.i(55038),i=e.i(63413),r=e.i(38936),s=e.i(2153);class n extends i.Command.classBuilder().ep(r.commonParams).m(function(e,i,r,s){return[(0,t.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(s.AssumeRole$).build(){}e.s(["AssumeRoleCommand",()=>n])},43601,e=>{"use strict";e.s(["defaultSTSHttpAuthSchemeParametersProvider",()=>n,"defaultSTSHttpAuthSchemeProvider",()=>o,"resolveHttpAuthSchemeConfig",()=>a]);var t=e.i(10455),i=e.i(80768),r=e.i(74016),s=e.i(28970);let n=async(e,t,s)=>({operation:(0,i.getSmithyContext)(t).operation,region:await (0,r.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),o=e=>{let t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})});return t},a=e=>{let i=Object.assign(e,{stsClientCtor:s.STSClient});return Object.assign((0,t.resolveAwsSdkSigV4Config)(i),{authSchemePreference:(0,r.normalizeProvider)(e.authSchemePreference??[])})}},61614,57568,e=>{"use strict";let t;var i=e.i(14988),r=e.i(25465),s=e.i(17634),n=e.i(34220),o=e.i(6973),a=e.i(7727);let l={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,i){return e},captureMetaData:!1},d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",u=RegExp("^"+("["+d+"]["+d)+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function c(e,t){let i=[],r=t.exec(e);for(;r;){let s=[];s.startIndex=t.lastIndex-r[0].length;let n=r.length;for(let e=0;e<n;e++)s.push(r[e]);i.push(s),r=t.exec(e)}return i}let h=function(e){return null!=u.exec(e)};t="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class p{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,i){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),void 0!==i&&(this.child[this.child.length-1][t]={startIndex:i})}static getMetaDataSymbol(){return t}}class g{constructor(e){this.suppressValidationErr=!e}readDocType(e,t){let i={};if("O"===e[t+3]&&"C"===e[t+4]&&"T"===e[t+5]&&"Y"===e[t+6]&&"P"===e[t+7]&&"E"===e[t+8]){t+=9;let r=1,s=!1,n=!1;for(;t<e.length;t++)if("<"!==e[t]||n)if(">"===e[t]){if(n?"-"===e[t-1]&&"-"===e[t-2]&&(n=!1,r--):r--,0===r)break}else"["===e[t]?s=!0:e[t];else{if(s&&m(e,"!ENTITY",t)){let r,s;t+=7,[r,s,t]=this.readEntityExp(e,t+1,this.suppressValidationErr),-1===s.indexOf("&")&&(i[r]={regx:RegExp(`&${r};`,"g"),val:s})}else if(s&&m(e,"!ELEMENT",t)){t+=8;let{index:i}=this.readElementExp(e,t+1);t=i}else if(s&&m(e,"!ATTLIST",t))t+=8;else if(s&&m(e,"!NOTATION",t)){t+=9;let{index:i}=this.readNotationExp(e,t+1,this.suppressValidationErr);t=i}else if(m(e,"!--",t))n=!0;else throw Error("Invalid DOCTYPE");r++}if(0!==r)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:i,i:t}}readEntityExp(e,t){t=f(e,t);let i="";for(;t<e.length&&!/\s/.test(e[t])&&'"'!==e[t]&&"'"!==e[t];)i+=e[t],t++;if(E(i),t=f(e,t),!this.suppressValidationErr){if("SYSTEM"===e.substring(t,t+6).toUpperCase())throw Error("External entities are not supported");else if("%"===e[t])throw Error("Parameter entities are not supported")}let r="";return[t,r]=this.readIdentifierVal(e,t,"entity"),[i,r,--t]}readNotationExp(e,t){t=f(e,t);let i="";for(;t<e.length&&!/\s/.test(e[t]);)i+=e[t],t++;this.suppressValidationErr||E(i),t=f(e,t);let r=e.substring(t,t+6).toUpperCase();if(!this.suppressValidationErr&&"SYSTEM"!==r&&"PUBLIC"!==r)throw Error(`Expected SYSTEM or PUBLIC, found "${r}"`);t+=r.length,t=f(e,t);let s=null,n=null;if("PUBLIC"===r)[t,s]=this.readIdentifierVal(e,t,"publicIdentifier"),t=f(e,t),('"'===e[t]||"'"===e[t])&&([t,n]=this.readIdentifierVal(e,t,"systemIdentifier"));else if("SYSTEM"===r&&([t,n]=this.readIdentifierVal(e,t,"systemIdentifier"),!this.suppressValidationErr&&!n))throw Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:i,publicIdentifier:s,systemIdentifier:n,index:--t}}readIdentifierVal(e,t,i){let r="",s=e[t];if('"'!==s&&"'"!==s)throw Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)r+=e[t],t++;if(e[t]!==s)throw Error(`Unterminated ${i} value`);return[++t,r]}readElementExp(e,t){t=f(e,t);let i="";for(;t<e.length&&!/\s/.test(e[t]);)i+=e[t],t++;if(!this.suppressValidationErr&&!h(i))throw Error(`Invalid element name: "${i}"`);t=f(e,t);let r="";if("E"===e[t]&&m(e,"MPTY",t))t+=4;else if("A"===e[t]&&m(e,"NY",t))t+=2;else if("("===e[t]){for(t++;t<e.length&&")"!==e[t];)r+=e[t],t++;if(")"!==e[t])throw Error("Unterminated content model")}else if(!this.suppressValidationErr)throw Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:i,contentModel:r.trim(),index:t}}readAttlistExp(e,t){t=f(e,t);let i="";for(;t<e.length&&!/\s/.test(e[t]);)i+=e[t],t++;E(i),t=f(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!E(r))throw Error(`Invalid attribute name: "${r}"`);t=f(e,t);let s="";if("NOTATION"===e.substring(t,t+8).toUpperCase()){if(s="NOTATION",t+=8,t=f(e,t),"("!==e[t])throw Error(`Expected '(', found "${e[t]}"`);t++;let i=[];for(;t<e.length&&")"!==e[t];){let r="";for(;t<e.length&&"|"!==e[t]&&")"!==e[t];)r+=e[t],t++;if(!E(r=r.trim()))throw Error(`Invalid notation name: "${r}"`);i.push(r),"|"===e[t]&&(t=f(e,++t))}if(")"!==e[t])throw Error("Unterminated list of notations");t++,s+=" ("+i.join("|")+")"}else{for(;t<e.length&&!/\s/.test(e[t]);)s+=e[t],t++;if(!this.suppressValidationErr&&!["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"].includes(s.toUpperCase()))throw Error(`Invalid attribute type: "${s}"`)}t=f(e,t);let n="";return"#REQUIRED"===e.substring(t,t+8).toUpperCase()?(n="#REQUIRED",t+=8):"#IMPLIED"===e.substring(t,t+7).toUpperCase()?(n="#IMPLIED",t+=7):[t,n]=this.readIdentifierVal(e,t,"ATTLIST"),{elementName:i,attributeName:r,attributeType:s,defaultValue:n,index:t}}}let f=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function m(e,t,i){for(let r=0;r<t.length;r++)if(t[r]!==e[i+r+1])return!1;return!0}function E(e){if(h(e))return e;throw Error(`Invalid entity name ${e}`)}let x=/^[-+]?0x[a-fA-F0-9]+$/,y=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,S={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},b=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;class v{constructor(e){if(this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>_(t,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>_(t,16,"&#x")}},this.addExternalEntities=P,this.parseXml=A,this.parseTextData=T,this.resolveNameSpace=I,this.buildAttributesMap=w,this.isItStopNode=R,this.replaceEntitiesValue=O,this.readStopNodeData=M,this.saveTextToParentTag=D,this.addChild=C,this.ignoreAttributesFn=function(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(let i of e)if("string"==typeof i&&t===i||i instanceof RegExp&&i.test(t))return!0}:()=>!1}(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let e=0;e<this.options.stopNodes.length;e++){const t=this.options.stopNodes[e];"string"==typeof t&&(t.startsWith("*.")?this.stopNodesWildcard.add(t.substring(2)):this.stopNodesExact.add(t))}}}}function P(e){let t=Object.keys(e);for(let i=0;i<t.length;i++){let r=t[i];this.lastEntities[r]={regex:RegExp("&"+r+";","g"),val:e[r]}}}function T(e,t,i,r,s,n,o){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let r=this.options.tagValueProcessor(t,e,i,s,n);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?F(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function I(e){if(this.options.removeNSPrefix){let t=e.split(":"),i="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=i+t[1])}return e}let N=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function w(e,t){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){let i=c(e,N),r=i.length,s={};for(let e=0;e<r;e++){let r=this.resolveNameSpace(i[e][1]);if(this.ignoreAttributesFn(r,t))continue;let n=i[e][4],o=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==n){this.options.trimValues&&(n=n.trim()),n=this.replaceEntitiesValue(n);let e=this.options.attributeValueProcessor(r,n,t);null==e?s[o]=n:typeof e!=typeof n||e!==n?s[o]=e:s[o]=F(n,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(Object.keys(s).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=s,e}return s}}}let A=function(e){e=e.replace(/\r\n?/g,"\n");let t=new p("!xml"),i=t,r="",s="",n=new g(this.options.processEntities);for(let o=0;o<e.length;o++)if("<"===e[o])if("/"===e[o+1]){let t=k(e,">",o,"Closing Tag is not closed."),n=e.substring(o+2,t).trim();if(this.options.removeNSPrefix){let e=n.indexOf(":");-1!==e&&(n=n.substr(e+1))}this.options.transformTagName&&(n=this.options.transformTagName(n)),i&&(r=this.saveTextToParentTag(r,i,s));let a=s.substring(s.lastIndexOf(".")+1);if(n&&-1!==this.options.unpairedTags.indexOf(n))throw Error(`Unpaired tag can not be used as closing tag: </${n}>`);let l=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),i=this.tagsNodeStack.pop(),r="",o=t}else if("?"===e[o+1]){let t=$(e,o,!1,"?>");if(!t)throw Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,i,s),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{let e=new p(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,s)),this.addChild(i,e,s,o)}o=t.closeIndex+1}else if("!--"===e.substr(o+1,3)){let t=k(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let n=e.substring(o+4,t-2);r=this.saveTextToParentTag(r,i,s),i.add(this.options.commentPropName,[{[this.options.textNodeName]:n}])}o=t}else if("!D"===e.substr(o+1,2)){let t=n.readDocType(e,o);this.docTypeEntities=t.entities,o=t.i}else if("!["===e.substr(o+1,2)){let t=k(e,"]]>",o,"CDATA is not closed.")-2,n=e.substring(o+9,t);r=this.saveTextToParentTag(r,i,s);let a=this.parseTextData(n,i.tagname,s,!0,!1,!0,!0);void 0==a&&(a=""),this.options.cdataPropName?i.add(this.options.cdataPropName,[{[this.options.textNodeName]:n}]):i.add(this.options.textNodeName,a),o=t+2}else{let n=$(e,o,this.options.removeNSPrefix),a=n.tagName,l=n.rawTagName,d=n.tagExp,u=n.attrExpPresent,c=n.closeIndex;if(this.options.transformTagName){let e=this.options.transformTagName(a);d===a&&(d=e),a=e}i&&r&&"!xml"!==i.tagname&&(r=this.saveTextToParentTag(r,i,s,!1));let h=i;h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(i=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),a!==t.tagname&&(s+=s?"."+a:a);let g=o;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,s,a)){let t="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),d=a):d=d.substr(0,d.length-1),o=n.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))o=n.closeIndex;else{let i=this.readStopNodeData(e,l,c+1);if(!i)throw Error(`Unexpected end of ${l}`);o=i.i,t=i.tagContent}let r=new p(a);a!==d&&u&&(r[":@"]=this.buildAttributesMap(d,s)),t&&(t=this.parseTextData(t,a,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(i,r,s,g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){if("/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),d=a):d=d.substr(0,d.length-1),this.options.transformTagName){let e=this.options.transformTagName(a);d===a&&(d=e),a=e}let e=new p(a);a!==d&&u&&(e[":@"]=this.buildAttributesMap(d,s)),this.addChild(i,e,s,g),s=s.substr(0,s.lastIndexOf("."))}else{let e=new p(a);this.tagsNodeStack.push(i),a!==d&&u&&(e[":@"]=this.buildAttributesMap(d,s)),this.addChild(i,e,s,g),i=e}r="",o=c}}else r+=e[o];return t.child};function C(e,t,i,r){this.options.captureMetaData||(r=void 0);let s=this.options.updateTag(t.tagname,i,t[":@"]);!1===s||("string"==typeof s&&(t.tagname=s),e.addChild(t,r))}let O=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let i=this.docTypeEntities[t];e=e.replace(i.regx,i.val)}for(let t in this.lastEntities){let i=this.lastEntities[t];e=e.replace(i.regex,i.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let i=this.htmlEntities[t];e=e.replace(i.regex,i.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function D(e,t,i,r){return e&&(void 0===r&&(r=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,i,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function R(e,t,i,r){return!!(t&&t.has(r)||e&&e.has(i))}function k(e,t,i,r){let s=e.indexOf(t,i);if(-1!==s)return s+t.length-1;throw Error(r)}function $(e,t,i,r=">"){let s=function(e,t,i=">"){let r,s="";for(let n=t;n<e.length;n++){let t=e[n];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===i[0]){if(!i[1])return{data:s,index:n};else if(e[n+1]===i[1])return{data:s,index:n}}else"	"===t&&(t=" ");s+=t}}(e,t+1,r);if(!s)return;let n=s.data,o=s.index,a=n.search(/\s/),l=n,d=!0;-1!==a&&(l=n.substring(0,a),n=n.substring(a+1).trimStart());let u=l;if(i){let e=l.indexOf(":");-1!==e&&(d=(l=l.substr(e+1))!==s.data.substr(e+1))}return{tagName:l,tagExp:n,closeIndex:o,attrExpPresent:d,rawTagName:u}}function M(e,t,i){let r=i,s=1;for(;i<e.length;i++)if("<"===e[i])if("/"===e[i+1]){let n=k(e,">",i,`${t} is not closed`);if(e.substring(i+2,n).trim()===t&&0==--s)return{tagContent:e.substring(r,i),i:n};i=n}else if("?"===e[i+1])i=k(e,"?>",i+1,"StopNode is not closed.");else if("!--"===e.substr(i+1,3))i=k(e,"-->",i+3,"StopNode is not closed.");else if("!["===e.substr(i+1,2))i=k(e,"]]>",i,"StopNode is not closed.")-2;else{let r=$(e,i,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&s++,i=r.closeIndex)}}function F(e,t,i){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&function(e,t={}){if(t=Object.assign({},S,t),!e||"string"!=typeof e)return e;let i=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(i))return e;{if("0"===e)return 0;if(t.hex&&x.test(i)){var r,s=i;if(parseInt)return parseInt(s,16);if(Number.parseInt)return Number.parseInt(s,16);if(window&&window.parseInt)return window.parseInt(s,16);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}if(i.includes("e")||i.includes("E"))return function(e,t,i){if(!i.eNotation)return e;let r=t.match(b);if(!r)return e;{let s=r[1]||"",n=-1===r[3].indexOf("e")?"E":"e",o=r[2],a=s?e[o.length+1]===n:e[o.length]===n;return o.length>1&&a?e:1===o.length&&(r[3].startsWith(`.${n}`)||r[3][0]===n)?Number(t):i.leadingZeros&&!a?Number(t=(r[1]||"")+r[3]):e}}(e,i,t);let n=y.exec(i);if(!n)return e;{let s=n[1]||"",o=n[2],a=((r=n[3])&&-1!==r.indexOf(".")&&("."===(r=r.replace(/0+$/,""))?r="0":"."===r[0]?r="0"+r:"."===r[r.length-1]&&(r=r.substring(0,r.length-1))),r),l=s?"."===e[o.length+1]:"."===e[o.length];if(!t.leadingZeros&&(o.length>1||1===o.length&&!l))return e;{let r=Number(i),n=String(r);if(0===r)return r;if(-1!==n.search(/[eE]/))if(t.eNotation)return r;else return e;if(-1!==i.indexOf("."))if("0"===n)return r;else if(n===a)return r;else if(n===`${s}${a}`)return r;else return e;let l=o?a:i;return o?l===n||s+l===n?r:e:l===n||l===s+n?r:e}}}}(e,i)}return void 0!==e?e:""}function _(e,t,i){let r=Number.parseInt(e,t);return r>=0&&r<=1114111?String.fromCodePoint(r):i+e+";"}let U=p.getMetaDataSymbol(),V={allowBooleanAttributes:!1,unpairedTags:[]};function j(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function L(e,t){let i=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let r=e.substr(i,t-i);if(t>5&&"xml"===r)return B("InvalidXml","XML declaration allowed only at the start of the document.",K(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function z(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let i=1;for(t+=8;t<e.length;t++)if("<"===e[t])i++;else if(">"===e[t]&&0==--i)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}let W=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function H(e,t){let i=c(e,W),r={};for(let e=0;e<i.length;e++){if(0===i[e][1].length)return B("InvalidAttr","Attribute '"+i[e][2]+"' has no space in starting.",Q(i[e]));if(void 0!==i[e][3]&&void 0===i[e][4])return B("InvalidAttr","Attribute '"+i[e][2]+"' is without value.",Q(i[e]));if(void 0===i[e][3]&&!t.allowBooleanAttributes)return B("InvalidAttr","boolean attribute '"+i[e][2]+"' is not allowed.",Q(i[e]));let s=i[e][2];if(!h(s))return B("InvalidAttr","Attribute '"+s+"' is an invalid name.",Q(i[e]));if(r.hasOwnProperty(s))return B("InvalidAttr","Attribute '"+s+"' is repeated.",Q(i[e]));r[s]=1}return!0}function B(e,t,i){return{err:{code:e,msg:t,line:i.line||i,col:i.col}}}function K(e,t){let i=e.substring(0,t).split(/\r?\n/);return{line:i.length,col:i[i.length-1].length+1}}function Q(e){return e.startIndex+e[1].length}let G=new class{constructor(e){this.externalEntities={},this.options=function(e){return Object.assign({},l,e)}(e)}parse(e,t){if("string"!=typeof e&&e.toString)e=e.toString();else if("string"!=typeof e)throw Error("XML data is accepted in String or Bytes[] form.");if(t){!0===t&&(t={});let i=function(e,t){t=Object.assign({},V,t);let i=[],r=!1,s=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let n=0;n<e.length;n++)if("<"===e[n]&&"?"===e[n+1]){if(n+=2,(n=L(e,n)).err)return n}else if("<"===e[n]){let o=n;if("!"===e[++n]){n=z(e,n);continue}{let a=!1;"/"===e[n]&&(a=!0,n++);let l="";for(;n<e.length&&">"!==e[n]&&" "!==e[n]&&"	"!==e[n]&&"\n"!==e[n]&&"\r"!==e[n];n++)l+=e[n];if("/"===(l=l.trim())[l.length-1]&&(l=l.substring(0,l.length-1),n--),!h(l))return B("InvalidTag",0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",K(e,n));let d=function(e,t){let i="",r="",s=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){s=!0;break}i+=e[t]}return""===r&&{value:i,index:t,tagClosed:s}}(e,n);if(!1===d)return B("InvalidAttr","Attributes for '"+l+"' have open quote.",K(e,n));let u=d.value;if(n=d.index,"/"===u[u.length-1]){let i=n-u.length,s=H(u=u.substring(0,u.length-1),t);if(!0!==s)return B(s.err.code,s.err.msg,K(e,i+s.err.line));r=!0}else if(a)if(!d.tagClosed)return B("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",K(e,n));else{if(u.trim().length>0)return B("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",K(e,o));if(0===i.length)return B("InvalidTag","Closing tag '"+l+"' has not been opened.",K(e,o));let t=i.pop();if(l!==t.tagName){let i=K(e,t.tagStartPos);return B("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+i.line+", col "+i.col+") instead of closing tag '"+l+"'.",K(e,o))}0==i.length&&(s=!0)}else{let a=H(u,t);if(!0!==a)return B(a.err.code,a.err.msg,K(e,n-u.length+a.err.line));if(!0===s)return B("InvalidXml","Multiple possible root nodes found.",K(e,n));-1!==t.unpairedTags.indexOf(l)||i.push({tagName:l,tagStartPos:o}),r=!0}for(n++;n<e.length;n++)if("<"===e[n])if("!"===e[n+1]){n=z(e,++n);continue}else if("?"===e[n+1]){if((n=L(e,++n)).err)return n}else break;else if("&"===e[n]){let t=function(e,t){if(";"===e[++t])return -1;if("#"===e[t]){var i=++t;let r=/\d/;for("x"===e[i]&&(i++,r=/[\da-fA-F]/);i<e.length;i++){if(";"===e[i])return i;if(!e[i].match(r))break}return -1}let r=0;for(;t<e.length;t++,r++)if(!e[t].match(/\w/)||!(r<20)){if(";"===e[t])break;return -1}return t}(e,n);if(-1==t)return B("InvalidChar","char '&' is not expected.",K(e,n));n=t}else if(!0===s&&!j(e[n]))return B("InvalidXml","Extra text at the end",K(e,n));"<"===e[n]&&n--}}else{if(j(e[n]))continue;return B("InvalidChar","char '"+e[n]+"' is not expected.",K(e,n))}return r?1==i.length?B("InvalidTag","Unclosed tag '"+i[0].tagName+"'.",K(e,i[0].tagStartPos)):!(i.length>0)||B("InvalidXml","Invalid '"+JSON.stringify(i.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):B("InvalidXml","Start tag expected.",1)}(e,t);if(!0!==i)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let i=new v(this.options);i.addExternalEntities(this.externalEntities);let r=i.parseXml(e);return this.options.preserveOrder||void 0===r?r:function e(t,i,r){let s,n={};for(let o=0;o<t.length;o++){let a=t[o],l=function(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let i=t[e];if(":@"!==i)return i}}(a),d="";if(d=void 0===r?l:r+"."+l,l===i.textNodeName)void 0===s?s=a[l]:s+=""+a[l];else if(void 0===l)continue;else if(a[l]){let t=e(a[l],i,d),r=function(e,t){let{textNodeName:i}=t,r=Object.keys(e).length;return 0===r||1===r&&(!!e[i]||"boolean"==typeof e[i]||0===e[i])}(t,i);void 0!==a[U]&&(t[U]=a[U]),a[":@"]?function(e,t,i,r){if(t){let s=Object.keys(t),n=s.length;for(let o=0;o<n;o++){let n=s[o];r.isArray(n,i+"."+n,!0,!0)?e[n]=[t[n]]:e[n]=t[n]}}}(t,a[":@"],d,i):1!==Object.keys(t).length||void 0===t[i.textNodeName]||i.alwaysCreateTextNode?0===Object.keys(t).length&&(i.alwaysCreateTextNode?t[i.textNodeName]="":t=""):t=t[i.textNodeName],void 0!==n[l]&&n.hasOwnProperty(l)?(Array.isArray(n[l])||(n[l]=[n[l]]),n[l].push(t)):i.isArray(l,d,r)?n[l]=[t]:n[l]=t}}return"string"==typeof s?s.length>0&&(n[i.textNodeName]=s):void 0!==s&&(n[i.textNodeName]=s),n}(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return p.getMetaDataSymbol()}}({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});G.addEntity("#xD","\r"),G.addEntity("#10","\n");var Y=e.i(72318);let q=e=>{let t="#text";for(let i in e)e.hasOwnProperty(i)&&void 0!==e[i][t]?e[i]=e[i][t]:"object"==typeof e[i]&&null!==e[i]&&(e[i]=q(e[i]));return e};var X=e.i(85760),Z=e.i(76207),J=e.i(40274);class ee extends Z.SerdeContextConfig{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Y.FromStringShapeDeserializer(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,i){let r=n.NormalizedSchema.of(e),s=r.getMemberSchemas();if(r.isStructSchema()&&r.isMemberSchema()&&Object.values(s).find(e=>!!e.getMemberTraits().eventPayload)){let e={},i=Object.keys(s)[0];return s[i].isBlobSchema()?e[i]=t:e[i]=this.read(s[i],t),e}let o=(this.serdeContext?.utf8Encoder??X.toUtf8)(t),a=this.parseXml(o);return this.readSchema(e,i?a[i]:a)}readSchema(e,t){let i=n.NormalizedSchema.of(e);if(i.isUnitSchema())return;let r=i.getMergedTraits();if(i.isListSchema()&&!Array.isArray(t))return this.readSchema(i,[t]);if(null==t)return t;if("object"==typeof t){let e=!!r.sparse,s=!!r.xmlFlattened;if(i.isListSchema()){let r=i.getValueSchema(),n=[],o=r.getMergedTraits().xmlName??"member",a=s?t:(t[0]??t)[o];for(let t of Array.isArray(a)?a:[a])(null!=t||e)&&n.push(this.readSchema(r,t));return n}let n={};if(i.isMapSchema()){let r,o=i.getKeySchema(),a=i.getValueSchema();r=s?Array.isArray(t)?t:[t]:Array.isArray(t.entry)?t.entry:[t.entry];let l=o.getMergedTraits().xmlName??"key",d=a.getMergedTraits().xmlName??"value";for(let t of r){let i=t[l],r=t[d];(null!=r||e)&&(n[i]=this.readSchema(a,r))}return n}if(i.isStructSchema()){let e,r=i.isUnionSchema();for(let[s,o]of(r&&(e=new J.UnionSerde(t,n)),i.structIterator())){let i=o.getMergedTraits(),a=i.httpPayload?i.xmlName??o.getName():o.getMemberTraits().xmlName??s;r&&e.mark(a),null!=t[a]&&(n[s]=this.readSchema(o,t[a]))}return r&&e.writeUnknown(),n}if(i.isDocumentSchema())return t;throw Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${i.getName(!0)}`)}return i.isListSchema()?[]:i.isMapSchema()||i.isStructSchema()?{}:this.stringDeserializer.read(i,t)}parseXml(e){if(e.length){let t;try{t=G.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}let i="#text",r=Object.keys(t)[0],s=t[r];return s[i]&&(s[r]=s[i],delete s[i]),q(s)}return{}}}var et=e.i(75504),ei=e.i(60011),er=e.i(90183),es=e.i(88298),en=e.i(19898),eo=e.i(71225),ea=Z;class el extends ea.SerdeContextConfig{settings;buffer;constructor(e){super(),this.settings=e}write(e,t,i=""){void 0===this.buffer&&(this.buffer="");let r=n.NormalizedSchema.of(e);if(i&&!i.endsWith(".")&&(i+="."),r.isBlobSchema())("string"==typeof t||t instanceof Uint8Array)&&(this.writeKey(i),this.writeValue((this.serdeContext?.base64Encoder??eo.toBase64)(t)));else if(r.isBooleanSchema()||r.isNumericSchema()||r.isStringSchema())null!=t?(this.writeKey(i),this.writeValue(String(t))):r.isIdempotencyToken()&&(this.writeKey(i),this.writeValue((0,er.generateIdempotencyToken)()));else if(r.isBigIntegerSchema())null!=t&&(this.writeKey(i),this.writeValue(String(t)));else if(r.isBigDecimalSchema())null!=t&&(this.writeKey(i),this.writeValue(t instanceof es.NumericValue?t.string:String(t)));else if(r.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(i),(0,et.determineTimestampFormat)(r,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,en.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3))}}else if(r.isDocumentSchema())Array.isArray(t)?this.write(79,t,i):t instanceof Date?this.write(4,t,i):t instanceof Uint8Array?this.write(21,t,i):t&&"object"==typeof t?this.write(143,t,i):(this.writeKey(i),this.writeValue(String(t)));else if(r.isListSchema()){if(Array.isArray(t))if(0===t.length)this.settings.serializeEmptyLists&&(this.writeKey(i),this.writeValue(""));else{let e=r.getValueSchema(),s=this.settings.flattenLists||r.getMergedTraits().xmlFlattened,n=1;for(let r of t){if(null==r)continue;let t=e.getMergedTraits(),o=this.getKey("member",t.xmlName,t.ec2QueryName),a=s?`${i}${n}`:`${i}${o}.${n}`;this.write(e,r,a),++n}}}else if(r.isMapSchema()){if(t&&"object"==typeof t){let e=r.getKeySchema(),s=r.getValueSchema(),n=r.getMergedTraits().xmlFlattened,o=1;for(let[r,a]of Object.entries(t)){if(null==a)continue;let t=e.getMergedTraits(),l=this.getKey("key",t.xmlName,t.ec2QueryName),d=n?`${i}${o}.${l}`:`${i}entry.${o}.${l}`,u=s.getMergedTraits(),c=this.getKey("value",u.xmlName,u.ec2QueryName),h=n?`${i}${o}.${c}`:`${i}entry.${o}.${c}`;this.write(e,r,d),this.write(s,a,h),++o}}}else if(r.isStructSchema()){if(t&&"object"==typeof t){let e=!1;for(let[s,n]of r.structIterator()){if(null==t[s]&&!n.isIdempotencyToken())continue;let r=n.getMergedTraits(),o=this.getKey(s,r.xmlName,r.ec2QueryName,"struct"),a=`${i}${o}`;this.write(n,t[s],a),e=!0}if(!e&&r.isUnionSchema()){let{$unknown:e}=t;if(Array.isArray(e)){let[t,r]=e,s=`${i}${t}`;this.write(15,r,s)}}}}else if(r.isUnitSchema());else throw Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${r.getName(!0)}`)}flush(){if(void 0===this.buffer)throw Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,t,i,r){let{ec2:s,capitalizeKeys:n}=this.settings;if(s&&i)return i;let o=t??e;return n&&"struct"===r?o[0].toUpperCase()+o.slice(1):o}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${(0,ei.extendedEncodeURIComponent)(e)}=`}writeValue(e){this.buffer+=(0,ei.extendedEncodeURIComponent)(e)}}class ed extends r.RpcProtocol{options;serializer;deserializer;mixin=new a.ProtocolLib;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;const t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new el(t),this.deserializer=new ee(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,t,i){let r=await super.serializeRequest(e,t,i);r.path.endsWith("/")||(r.path+="/"),Object.assign(r.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,s.deref)(e.input)&&r.body||(r.body="");let n=e.name.split("#")[1]??e.name;return r.body=`Action=${n}&Version=${this.options.version}`+r.body,r.body.endsWith("&")&&(r.body=r.body.slice(-1)),r}async deserializeResponse(e,t,r){let s=this.deserializer,o=n.NormalizedSchema.of(e.output),a={};if(r.statusCode>=300){let n=await (0,i.collectBody)(r.body,t);n.byteLength>0&&Object.assign(a,await s.read(15,n)),await this.handleError(e,t,r,a,this.deserializeMetadata(r))}for(let e in r.headers){let t=r.headers[e];delete r.headers[e],r.headers[e.toLowerCase()]=t}let l=e.name.split("#")[1]??e.name,d=o.isStructSchema()&&this.useNestedResult()?l+"Result":void 0,u=await (0,i.collectBody)(r.body,t);return u.byteLength>0&&Object.assign(a,await s.read(o,u,d)),{$metadata:this.deserializeMetadata(r),...a}}useNestedResult(){return!0}async handleError(e,t,i,r,s){let a=this.loadQueryErrorCode(i,r)??"Unknown",l=this.loadQueryError(r),d=this.loadQueryErrorMessage(r);l.message=d,l.Error={Type:l.Type,Code:l.Code,Message:d};let{errorSchema:u,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,i,l,s,this.mixin.findQueryCompatibleError),h=n.NormalizedSchema.of(u),p=new(o.TypeRegistry.for(u[1]).getErrorCtor(u)??Error)(d),g={Type:l.Error.Type,Code:l.Error.Code,Error:l.Error};for(let[e,t]of h.structIterator()){let i=t.getMergedTraits().xmlName??e,s=l[i]??r[i];g[e]=this.deserializer.readSchema(t,s)}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:h.getMergedTraits().error,message:d},g),r)}loadQueryErrorCode(e,t){let i=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;return void 0!==i?i:404==e.statusCode?"NotFound":void 0}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}e.s(["AwsQueryProtocol",()=>ed],61614),e.i(79787);var eu=e.i(25923),ec=e.i(46717),eh=e.i(16116),ep=e.i(35525);let eg="required",ef="type",em="argv",eE="booleanEquals",ex="stringEquals",ey="sigv4",eS="us-east-1",eb="endpoint",ev="https://sts.{Region}.{PartitionResult#dnsSuffix}",eP="tree",eT="error",eI="getAttr",eN={[eg]:!1,[ef]:"string"},ew={[eg]:!0,default:!1,[ef]:"boolean"},eA={ref:"Endpoint"},eC={fn:"isSet",[em]:[{ref:"Region"}]},eO={ref:"Region"},eD={fn:"aws.partition",[em]:[eO],assign:"PartitionResult"},eR={ref:"UseFIPS"},ek={ref:"UseDualStack"},e$={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:ey,signingName:"sts",signingRegion:eS}]},headers:{}},eM={},eF={conditions:[{fn:ex,[em]:[eO,"aws-global"]}],[eb]:e$,[ef]:eb},e_={fn:eE,[em]:[eR,!0]},eU={fn:eE,[em]:[ek,!0]},eV={fn:eI,[em]:[{ref:"PartitionResult"},"supportsFIPS"]},ej={ref:"PartitionResult"},eL={fn:eE,[em]:[!0,{fn:eI,[em]:[ej,"supportsDualStack"]}]},ez=[{fn:"isSet",[em]:[eA]}],eW=[e_],eH=[eU],eB={version:"1.0",parameters:{Region:eN,UseDualStack:ew,UseFIPS:ew,Endpoint:eN,UseGlobalEndpoint:ew},rules:[{conditions:[{fn:eE,[em]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[em]:ez},eC,eD,{fn:eE,[em]:[eR,!1]},{fn:eE,[em]:[ek,!1]}],rules:[{conditions:[{fn:ex,[em]:[eO,"ap-northeast-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"ap-south-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"ap-southeast-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"ap-southeast-2"]}],endpoint:e$,[ef]:eb},eF,{conditions:[{fn:ex,[em]:[eO,"ca-central-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"eu-central-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"eu-north-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"eu-west-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"eu-west-2"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"eu-west-3"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"sa-east-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,eS]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"us-east-2"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"us-west-1"]}],endpoint:e$,[ef]:eb},{conditions:[{fn:ex,[em]:[eO,"us-west-2"]}],endpoint:e$,[ef]:eb},{endpoint:{url:ev,properties:{authSchemes:[{name:ey,signingName:"sts",signingRegion:"{Region}"}]},headers:eM},[ef]:eb}],[ef]:eP},{conditions:ez,rules:[{conditions:eW,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ef]:eT},{conditions:eH,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ef]:eT},{endpoint:{url:eA,properties:eM,headers:eM},[ef]:eb}],[ef]:eP},{conditions:[eC],rules:[{conditions:[eD],rules:[{conditions:[e_,eU],rules:[{conditions:[{fn:eE,[em]:[!0,eV]},eL],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eM,headers:eM},[ef]:eb}],[ef]:eP},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ef]:eT}],[ef]:eP},{conditions:eW,rules:[{conditions:[{fn:eE,[em]:[eV,!0]}],rules:[{conditions:[{fn:ex,[em]:[{fn:eI,[em]:[ej,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:eM,headers:eM},[ef]:eb},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eM,headers:eM},[ef]:eb}],[ef]:eP},{error:"FIPS is enabled but this partition does not support FIPS",[ef]:eT}],[ef]:eP},{conditions:eH,rules:[{conditions:[eL],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eM,headers:eM},[ef]:eb}],[ef]:eP},{error:"DualStack is enabled but this partition does not support DualStack",[ef]:eT}],[ef]:eP},eF,{endpoint:{url:ev,properties:eM,headers:eM},[ef]:eb}],[ef]:eP}],[ef]:eP},{error:"Invalid Configuration: Missing Region",[ef]:eT}]},eK=new eh.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]});ec.customEndpointFunctions.aws=eu.awsEndpointFunctions,e.s(["defaultEndpointResolver",0,(e,t={})=>eK.get(e,()=>(0,ep.resolveEndpoint)(eB,{endpointParams:e,logger:t.logger}))],57568)},28970,e=>{"use strict";e.s(["STSClient",()=>Y],28970);var t=e.i(96632),i=e.i(48505),r=e.i(56524),s=e.i(49852),n=e.i(9881),o=e.i(24642),a=e.i(81335),l=e.i(92457),d=e.i(37383),u=e.i(76105),c=e.i(64919),h=e.i(14722),p=e.i(68103),g=e.i(53525),f=e.i(29556),m=e.i(43601),E=e.i(38936),x=e.i(21706),y=e.i(44426),S=e.i(32710),b=e.i(88832),v=e.i(39587),P=e.i(97773),T=e.i(10334),I=e.i(44010),N=e.i(13401),w=e.i(75372),A=e.i(77524),C=e.i(15189),O=e.i(84912),D=e.i(12764),R=e.i(68992),k=e.i(15557),$=e.i(58570),M=e.i(85512),F=e.i(92898),_=e.i(61614),U=e.i(57759),V=e.i(41175),j=e.i(49151),L=e.i(71225),z=e.i(71330),W=e.i(30251),H=e.i(57568),B=e.i(2153),K=e.i(74376),Q=e.i(32519),G=e.i(70917);class Y extends f.Client{config;constructor(...[e]){const f=(e=>{(0,R.emitWarningIfUnsupportedVersion)(process.version);let t=(0,M.resolveDefaultsModeConfig)(e),i=()=>t().then(k.loadConfigsForDefaultMode),r={apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??j.fromBase64,base64Encoder:e?.base64Encoder??L.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??H.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??m.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new y.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new w.NoAuthSigner}],logger:e?.logger??new U.NoOpLogger,protocol:e?.protocol??_.AwsQueryProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",errorTypeRegistries:B.errorTypeRegistries,xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??V.parseUrl,utf8Decoder:e?.utf8Decoder??z.fromUtf8,utf8Encoder:e?.utf8Encoder??W.toUtf8};(0,S.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,C.loadConfig)(b.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,v.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:x.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new y.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new w.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,C.loadConfig)(g.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,C.loadConfig)(T.NODE_REGION_CONFIG_OPTIONS,{...T.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:O.NodeHttpHandler.create(e?.requestHandler??i),retryMode:e?.retryMode??(0,C.loadConfig)({...g.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await i()).retryMode||F.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??A.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??D.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,C.loadConfig)(I.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,C.loadConfig)(N.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,C.loadConfig)(P.NODE_APP_ID_CONFIG_OPTIONS,s)}})(e||{});super(f),this.initConfig=f;const Y=(0,E.resolveClientEndpointParameters)(f),q=(0,n.resolveUserAgentConfig)(Y),X=(0,g.resolveRetryConfig)(q),Z=(0,o.resolveRegionConfig)(X),J=(0,t.resolveHostHeaderConfig)(Z),ee=(0,h.resolveEndpointConfig)(J),et=((e,t)=>{let i,r,s,n=Object.assign((0,K.getAwsRegionExtensionConfiguration)(e),(0,G.getDefaultExtensionConfiguration)(e),(0,Q.getHttpHandlerExtensionConfiguration)(e),(i=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,s=e.credentials,{setHttpAuthScheme(e){let t=i.findIndex(t=>t.schemeId===e.schemeId);-1===t?i.push(e):i.splice(t,1,e)},httpAuthSchemes:()=>i,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){s=e},credentials:()=>s}));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,K.resolveAwsRegionExtensionConfiguration)(n),(0,G.resolveDefaultRuntimeConfig)(n),(0,Q.resolveHttpHandlerRuntimeConfig)(n),{httpAuthSchemes:n.httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()})})((0,m.resolveHttpAuthSchemeConfig)(ee),e?.extensions||[]);this.config=et,this.middlewareStack.use((0,u.getSchemaSerdePlugin)(this.config)),this.middlewareStack.use((0,s.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,p.getRetryPlugin)(this.config)),this.middlewareStack.use((0,c.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,t.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,i.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,r.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,l.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:m.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async e=>new a.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}}];

//# sourceMappingURL=node_modules_%40aws-sdk_559eefd6._.js.map