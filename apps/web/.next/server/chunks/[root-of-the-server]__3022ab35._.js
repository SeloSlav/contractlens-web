module.exports=[24868,(e,r,t)=>{r.exports=e.x("fs/promises",()=>require("fs/promises"))},874,(e,r,t)=>{r.exports=e.x("buffer",()=>require("buffer"))},47797,34036,e=>{"use strict";let r=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e);e.s(["isArrayBuffer",0,r],34036);var t=e.i(874);e.s(["fromArrayBuffer",0,(e,o=0,a=e.byteLength-o)=>{if(!r(e))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return t.Buffer.from(e,o,a)},"fromString",0,(e,r)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?t.Buffer.from(e,r):t.Buffer.from(e)}],47797)},60400,48979,e=>{"use strict";class r extends Error{name="ProviderError";tryNextLink;constructor(e,t=!0){let o,a=!0;"boolean"==typeof t?(o=void 0,a=t):null!=t&&"object"==typeof t&&(o=t.logger,a=t.tryNextLink??!0),super(e),this.tryNextLink=a,Object.setPrototypeOf(this,r.prototype),o?.debug?.(`@smithy/property-provider ${a?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}e.s(["ProviderError",()=>r],48979);class t extends r{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}e.s(["CredentialsProviderError",()=>t],60400)},9212,e=>{"use strict";function r(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}e.s(["setCredentialFeature",()=>r])},89073,e=>{"use strict";class r{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){var t;let o=new r({...e,headers:{...e.headers}});return o.query&&(o.query=Object.keys(t=o.query).reduce((e,r)=>{let o=t[r];return{...e,[r]:Array.isArray(o)?[...o]:o}},{})),o}static isInstance(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers}clone(){return r.clone(this)}}e.s(["HttpRequest",()=>r])},45786,e=>{"use strict";var r=e.i(12764),t=e.i(47797),o=e.i(88947),a=e.i(49151);let n=async e=>"function"==typeof Blob&&e instanceof Blob||e.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):s(e):i(e);async function s(e){var r;let t=await (r=e,new Promise((e,t)=>{let o=new FileReader;o.onloadend=()=>{if(2!==o.readyState)return t(Error("Reader aborted too early"));let r=o.result??"",a=r.indexOf(","),n=a>-1?a+1:r.length;e(r.substring(n))},o.onabort=()=>t(Error("Read aborted")),o.onerror=()=>t(o.error),o.readAsDataURL(r)}));return new Uint8Array((0,a.fromBase64)(t))}async function i(e){let r=[],t=e.getReader(),o=!1,a=0;for(;!o;){let{done:e,value:n}=await t.read();n&&(r.push(n),a+=n.length),o=e}let n=new Uint8Array(a),s=0;for(let e of r)n.set(e,s),s+=e.length;return n}var c=e.i(71225),l=e.i(83784),u=e.i(53536);let d=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),f="The stream has already been transformed.",p=e=>"function"==typeof Blob&&e instanceof Blob,h="The stream has already been transformed.";e.s(["sdkStreamMixin",0,e=>{if(!(e instanceof o.Readable))try{if(!p(e)&&!d(e)){let r=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${r}`)}let r=!1,t=async()=>{if(r)throw Error(f);return r=!0,await n(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async e=>{let r=await t();if("base64"===e)return(0,c.toBase64)(r);if("hex"===e)return(0,l.toHex)(r);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,u.toUtf8)(r);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(r);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw Error(f);if(r=!0,p(e)){if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()}if(d(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})}catch(t){let r=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${r}`)}let a=!1,s=async()=>{if(a)throw Error(h);return a=!0,await (0,r.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async e=>{let r=await s();return void 0===e||Buffer.isEncoding(e)?(0,t.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString(e):new TextDecoder(e).decode(r)},transformToWebStream:()=>{if(a)throw Error(h);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof o.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return a=!0,o.Readable.toWeb(e)}})}],45786)},20878,e=>{"use strict";var r=e.i(9212),t=e.i(84912),o=e.i(60400),a=e.i(24868),n=e.i(89073),s=e.i(19898),i=e.i(45786);async function c(e,r){let t=(0,i.sdkStreamMixin)(e.body),a=await t.transformToString();if(200===e.statusCode){let e=JSON.parse(a);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new o.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,s.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let t={};try{t=JSON.parse(a)}catch(e){}throw Object.assign(new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:t.Code,Message:t.Message})}throw new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}e.s(["fromHttp",0,(e={})=>{let s,i,l,u;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let d=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,f=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,p=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,h=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,m=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?.warn?e.logger.warn.bind(e.logger):console.warn;if(d&&f&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),m("awsContainerCredentialsFullUri will take precedence.")),p&&h&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),m("awsContainerAuthorizationToken will take precedence.")),f)s=f;else if(d)s=`http://169.254.170.2${d}`;else throw new o.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let y=new URL(s);((e,r)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;let r=e.hostname.split("."),t=e=>{let r=parseInt(e,10);return 0<=r&&r<=255};if("127"===r[0]&&t(r[1])&&t(r[2])&&t(r[3])&&4===r.length)return}throw new o.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}})(y,e.logger);let w=t.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return i=async()=>{let t=new n.HttpRequest({protocol:y.protocol,hostname:y.hostname,port:Number(y.port),path:y.pathname,query:Array.from(y.searchParams.entries()).reduce((e,[r,t])=>(e[r]=t,e),{}),fragment:y.hash});p?t.headers.Authorization=p:h&&(t.headers.Authorization=(await a.default.readFile(h)).toString());try{let e=await w.handle(t);return c(e.response).then(e=>(0,r.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(r){throw new o.CredentialsProviderError(String(r),{logger:e.logger})}},l=e.maxRetries??3,u=e.timeout??1e3,async()=>{for(let e=0;e<l;++e)try{return await i()}catch(e){await new Promise(e=>setTimeout(e,u))}return await i()}}],20878)},38788,e=>{"use strict";e.s([],97329),e.i(97329);var r=e.i(20878);e.s(["fromHttp",()=>r.fromHttp],38788)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3022ab35._.js.map